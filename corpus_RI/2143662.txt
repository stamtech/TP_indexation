Poker is a player-versus-player game, and the house does not wager against its players (unlike blackjack or roulette), so this fee is the principal mechanism to generate revenues.
It is primarily levied by an establishment that supplies the necessary services for the game to take place. In online poker it covers the various costs of operation such as support, software and personnel. In traditional brick and mortar casinos it is also used to cover the costs involved with providing a dealer (though in many places tips provide the bulk of a dealer's income) for the game, support staff (from servers to supervisors), use of gaming equipment, and the physical building in which the game takes place.
To win when playing in poker games where the house takes a cut, a player must not only beat opponents, but also the financial drain of the rake.
There are several ways for the rake to be taken.
A percentage rake is taken directly from the pot.  In a live casino, the dealer manually removes chips from the pot while the hand is being played and sets them aside to be dropped into a secure box after completion of the hand. When playing online, the rake is taken automatically by the game software.  Some software shows the rake amount next to a graphical representation of the dealer and takes it incrementally between the rounds of betting, whereas other software programs wait until the entire hand is over and then takes it from the pot total before giving the rest to the winner of the hand.
The fee is placed on the dealer button each hand by the player in that position, and taken in by the dealer before any cards are dealt.
Time collection (also "timed rake" or "table charge") is a set fee collected (typically) every half hour during the game.  This form of rake is collected in one of two ways:
Time rakes are generally reserved for higher limit games ($10-$20 and above).
The above examples are used in ring games, also known as cash games.  The rake for participation in poker tournaments is collected as an entrance fee.  This may be displayed by showing the tournament buy-in as $100+$20, with the $20 being the house fee or "Vig".
Some online cardrooms charge a monthly subscription fee, and then do not rake individual pots or tournaments.
Some online poker websites have done away with the rake altogether. These "rake free" poker rooms generate revenue by increasing traffic to the company's other profitable businesses (such as a casino or sportsbook) or by charging a flat monthly membership fee.
Rakeback in cash games can be calculated using two different methods: dealt and contributed. The dealt method awards the same amount of rakeback to each player dealt into a hand, and the contributed method rewards players based on their actual contribution to the pot. In poker tournaments, rakeback is deducted from cardroom's entry fee. Rakeback is similar to comps in "brick and mortar" casinos.
As online poker becomes more mainstream online poker professionals have begun using rakeback as a means of increasing profits or cutting their losses. Depending upon the stakes the player is playing, how many tables they are playing at once, and the number of hours played daily, online poker pros can earn thousands of dollars in rakeback every month. The rakeback rate is also important as there is no industry standard rakeback percentage. 
Not every online poker room offers rakeback. Sites such as Full Tilt Poker, Cake Network and UltimateBet allow affiliates to offer rakeback as a direct percentage of rake and tournament entries paid back to the players. Other card rooms such as PokerStars, PartyPoker and the iPoker Network forbid affiliates to give rakeback.  Instead they offer in-house loyalty programs that gives cash and other rewards to players based upon how much they play.
In most known legal jurisdictions, taking a rake from a poker table is explicitly illegal if the party taking the rake does not have the proper gaming licences and/or permits.  The laws of many jurisdictions are written in such a manner that they do not prohibit the playing of poker for money at a private dwelling, so long as nobody is taking a rake.